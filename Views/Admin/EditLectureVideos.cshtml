
@{
    ViewBag.Title = "EditLectureVideos";
    Layout = "~/Views/Shared/_AdminLayoutPage.cshtml";
}

@{
    if (ViewBag.data != null)
    {
        foreach (var data in ViewBag.Data.Rows)
        {
            <section class="page-content course-sec">
                <div class="container">

                    <div class="row">
                        <div class="col-md-12">

                            <div class="card">

                                <div class="widget-set">

                                    <div class="widget-content multistep-form">

                                        <div class="add-instructor-form">
                                            <div class="row ">
                                                <div class="col-sm-10 ms-5 box">
                                                    <form id="cform" method="post" enctype="multipart/form-data">
                                                        <div class="add-instructor-inner-header ms-5">
                                                            <h4 class="fw-bold" style="color:orangered">Add VIDEO LECTURE</h4>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label class="add-instructor-label">Select Course</label>
                                                                    <select value="@data["course"]" class="form-control" name="vcourse" id="course" onchange="SelectCourseVideo(this)">

                                                                        @if (ViewBag.Course != null && ViewBag.Course.Rows.Count > 0)
                                                                        {
                                                                            foreach (var row in ViewBag.Course.Rows)
                                                                            {
                                                                                var courseId = row["id_course"];  // Ensure this key matches your actual column name
                                                                                var courseTitle = row["course_title"];  // Ensure this key matches your actual column name

                                                                                if (data["course"] != null && data["course"].Equals(courseId))
                                                                                {
                                                                                    <option selected value="@courseId">@courseTitle</option>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <option value="@courseId">@courseTitle</option>
                                                                                }
                                                                            }
                                                                        }

                                                                    </select>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="add-instructor-label">Select Chapter</label>
                                                                    <input type="text" list="chapterlist" class="form-control" value="@data["chapter"]" placeholder="Chapter.." name="chapter">
                                                                    <datalist id="chapterlist">
                                                                    </datalist>
                                                                </div>
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <div class="form-group">
                                                                    <label class="add-instructor-label">Video Title</label>
                                                                    <input type="text" value="@data["title"]" class="form-control" placeholder="Video Title.." name="vtitle">
                                                                </div>
                                                            </div>

                                                        </div>


                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="form-group">
                                                                    <label class="add-instructor-label">Add Video Link</label>
                                                                    <input type="text" value="@data["link"]" class="form-control" placeholder="Paste Video Link.." name="vlink">
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <label class="add-instructor-label">Video Details(Max 150 Characters)</label>
                                                                <textarea value="@data["detail"]" placeholder="Enter Detail of Video in max 150 character.." class="form-control-lg" name="vdetail" id="desc"></textarea>
                                                                <script>
                                                                    ClassicEditor.create(document.getElementById("desc"))
                                                                </script>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-sm-6">
                                                                <label class="add-instructor-label">Video Duration(in Min.)</label>
                                                                <input value="@data["duration"]" type="number" name="vduration" class="form-control" />
                                                            </div>
                                                            <div class="col-sm-6">
                                                                <label class="add-instructor-label">Is Video Paid?</label>
                                                                <select class="form-control" name="ispaid">
                                                                    <option value="true">Paid</option>
                                                                    <option value="false">Free</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="widget-btn">

                                                            <input type="submit" class="btn btn-black ms-5" value="Update Videos" />
                                                        </div>
                                                    </form>
                                                </div>
                                                <div class="col-sm-7">

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        }
    }
else
            {
                <h3>No Data Found</h3>
            }
}